
<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				layout:decorate="~{layout/baselayout}">

  <body>

  <th:block layout:fragment = "content">    
<!-- Begin page content -->
<main role="main" class="flex-shrink-0">
  <div class="container">
    <h1 class="mt-5">로그인</h1>
    <div class="row">
      <div class="col">
        <div class="card card-info">
          <div class="card-header">
            <h3 class="card-title">Login Form</h3>
          </div>
          
          <form class="form-horizontal" id="loinForm" th:action="@{/user/login}" method="post">
            <div class="card-body">
              <div class="form-group row">
                <label for="mbsp_id" class="col-sm-4 col-form-label">ID</label>
                <div class="col-sm-8">
                  <input type="text" class="form-control" id="mbsp_id" name="mbsp_id" value="user01">
                </div>
              </div>
              <div class="form-group row">
                <label for="mbsp_password" class="col-sm-4 col-form-label">Password</label>
                <div class="col-sm-8">
                  <input type="password" class="form-control" id="mbsp_password" name="mbsp_password" value="1234">
                </div>
              </div>
            </div>
            
            <div class="card-footer text-center">
              <button type="submit" class="btn btn-info btn-block" id="btnLogin">Login</button>
            </div>

          </form>

          <div class="card-footer text-center">
            <a th:href="@{/user/idfind}">아이디 찾기</a>
            <a th:href="@{/user/pwfind}">비밀번호 찾기</a>
            <a th:href="@{/oauth2/kakaologin}">
              <img th:src="@{/image/sns/kakao_login_large_narrow.png}"></img>
            </a>
            <a th:href="@{/oauth2/naverlogin}">
              <img th:src="@{/image/sns/btnG_완성형.png}" style="width: 310px; height: 43px;"></img>
            </a>
          </div>

        </div>
      </div>
    </div>
  </div>
</main>
</th:block>
<th:block layout:fragment="script">
  <script th:inline="javascript">
    let msg = [[${msg}]]; //'${msg}';  UserInfoController의 rttr.addFlashAttribute("msg", msg); 이름 // "failPW" or "failID"가 존재

    if(msg == "failID") {
      alert("아이디를 정확히 입력해주세요.");
      document.getElementById("mbsp_id").focus(); // jQuery대신 바닐라 JS로 사용했음.
    } else if(msg == "failPW") {
      alert("비밀번호를 정확히 입력해주세요.");
      document.getElementById("mbsp_password").focus();
    } else if(msg == "success") {
      alert("아이디를 메일로 발송하였습니다.");
    }
  </script>
</th:block>
</body>
</html>
